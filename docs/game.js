var tt=Object.defineProperty;var nt=(i,r,o)=>r in i?tt(i,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[r]=o;var P=(i,r,o)=>nt(i,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const d of t)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const d={};return t.integrity&&(d.integrity=t.integrity),t.referrerPolicy&&(d.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?d.credentials="include":t.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(t){if(t.ep)return;t.ep=!0;const d=o(t);fetch(t.href,d)}})();function T(){}function ge(i){return i()}function he(){return Object.create(null)}function V(i){i.forEach(ge)}function ye(i){return typeof i=="function"}function le(i,r){return i!=i?r==r:i!==r||i&&typeof i=="object"||typeof i=="function"}function it(i){return Object.keys(i).length===0}function rt(i,...r){if(i==null){for(const c of r)c(void 0);return T}const o=i.subscribe(...r);return o.unsubscribe?()=>o.unsubscribe():o}function ot(i,r,o){i.$$.on_destroy.push(rt(r,o))}function M(i,r){i.appendChild(r)}function me(i,r,o){i.insertBefore(r,o||null)}function ae(i){i.parentNode&&i.parentNode.removeChild(i)}function q(i){return document.createElement(i)}function ne(i){return document.createTextNode(i)}function pe(){return ne(" ")}function H(i,r,o){o==null?i.removeAttribute(r):i.getAttribute(r)!==o&&i.setAttribute(r,o)}function st(i){return Array.from(i.childNodes)}function lt(i,r){r=""+r,i.data!==r&&(i.data=r)}let W;function G(i){W=i}function ve(){if(!W)throw new Error("Function called outside component initialization");return W}function we(i){ve().$$.on_mount.push(i)}function at(i){ve().$$.on_destroy.push(i)}const B=[],ie=[];let U=[];const xe=[],ct=Promise.resolve();let re=!1;function dt(){re||(re=!0,ct.then(Se))}function oe(i){U.push(i)}const J=new Set;let O=0;function Se(){if(O!==0)return;const i=W;do{try{for(;O<B.length;){const r=B[O];O++,G(r),ut(r.$$)}}catch(r){throw B.length=0,O=0,r}for(G(null),B.length=0,O=0;ie.length;)ie.pop()();for(let r=0;r<U.length;r+=1){const o=U[r];J.has(o)||(J.add(o),o())}U.length=0}while(B.length);for(;xe.length;)xe.pop()();re=!1,J.clear(),G(i)}function ut(i){if(i.fragment!==null){i.update(),V(i.before_update);const r=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,r),i.after_update.forEach(oe)}}function ft(i){const r=[],o=[];U.forEach(c=>i.indexOf(c)===-1?r.push(c):o.push(c)),o.forEach(c=>c()),U=r}const F=new Set;let ht;function be(i,r){i&&i.i&&(F.delete(i),i.i(r))}function pt(i,r,o,c){if(i&&i.o){if(F.has(i))return;F.add(i),ht.c.push(()=>{F.delete(i)}),i.o(r)}}function xt(i){i&&i.c()}function Le(i,r,o){const{fragment:c,after_update:t}=i.$$;c&&c.m(r,o),oe(()=>{const d=i.$$.on_mount.map(ge).filter(ye);i.$$.on_destroy?i.$$.on_destroy.push(...d):V(d),i.$$.on_mount=[]}),t.forEach(oe)}function Te(i,r){const o=i.$$;o.fragment!==null&&(ft(o.after_update),V(o.on_destroy),o.fragment&&o.fragment.d(r),o.on_destroy=o.fragment=null,o.ctx=[])}function gt(i,r){i.$$.dirty[0]===-1&&(B.push(i),dt(),i.$$.dirty.fill(0)),i.$$.dirty[r/31|0]|=1<<r%31}function Ce(i,r,o,c,t,d,s=null,n=[-1]){const f=W;G(i);const h=i.$$={fragment:null,ctx:[],props:d,update:T,not_equal:t,bound:he(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:he(),dirty:n,skip_bound:!1,root:r.target||f.$$.root};s&&s(h.root);let x=!1;if(h.ctx=o?o(i,r.props||{},(g,v,...A)=>{const I=A.length?A[0]:v;return h.ctx&&t(h.ctx[g],h.ctx[g]=I)&&(!h.skip_bound&&h.bound[g]&&h.bound[g](I),x&&gt(i,g)),v}):[],h.update(),x=!0,V(h.before_update),h.fragment=c?c(h.ctx):!1,r.target){if(r.hydrate){const g=st(r.target);h.fragment&&h.fragment.l(g),g.forEach(ae)}else h.fragment&&h.fragment.c();r.intro&&be(i.$$.fragment),Le(i,r.target,r.anchor),Se()}G(f)}class _e{constructor(){P(this,"$$");P(this,"$$set")}$destroy(){Te(this,1),this.$destroy=T}$on(r,o){if(!ye(o))return T;const c=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return c.push(o),()=>{const t=c.indexOf(o);t!==-1&&c.splice(t,1)}}$set(r){this.$$set&&!it(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}const yt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yt);class mt{constructor(){P(this,"audioContext",null);P(this,"sounds",{});P(this,"initialized",!1);this.initAudio()}initAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&this.audioContext.resume(),this.createSounds(),this.initialized=!0}catch(r){console.warn("Audio not supported:",r)}}createSounds(){this.audioContext&&(this.sounds.paddleHit=this.createTone(200,.1,"sine"),this.sounds.brickHit=this.createTone(400,.15,"square"),this.sounds.brickDestroyed=this.createTone(600,.2,"sawtooth"),this.sounds.wallHit=this.createTone(300,.1,"triangle"),this.sounds.lifeLost=this.createTone(150,.3,"sawtooth"),this.sounds.powerUp=this.createTone(600,.2,"sine"),this.sounds.gameOver=this.createTone(100,.5,"sawtooth"),this.sounds.win=this.createTone(800,.3,"sine"))}createTone(r,o,c){return()=>{if(this.audioContext)try{this.audioContext.state==="suspended"&&this.audioContext.resume();const t=this.audioContext.createOscillator(),d=this.audioContext.createGain();t.connect(d),d.connect(this.audioContext.destination),t.frequency.setValueAtTime(r,this.audioContext.currentTime),t.type=c,d.gain.setValueAtTime(.3,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+o),t.start(this.audioContext.currentTime),t.stop(this.audioContext.currentTime+o)}catch(t){console.warn("Audio not ready:",t)}}}initAudioOnInteraction(){this.initialized||this.initAudio()}play(r){this.sounds[r]&&this.sounds[r]()}playPaddleHit(){this.play("paddleHit")}playBrickHit(){this.play("brickHit")}playBrickDestroyed(){this.play("brickDestroyed")}playWallHit(){this.play("wallHit")}playLifeLost(){this.play("lifeLost")}playPowerUp(){this.play("powerUp")}playGameOver(){this.play("gameOver")}playWin(){this.play("win")}}const b=new mt;class vt{constructor(){P(this,"levels",[]);P(this,"currentLevelIndex",0)}async loadLevels(){const r=["level1.json","level2.json","level3.json","level4.json","level5.json","level6.json","level7.json","level8.json","level9.json","level10.json"];for(const o of r)try{const c=await fetch(`./levels/${o}`);if(c.ok){const t=await c.json();this.levels.push(t)}}catch(c){console.warn(`Failed to load level file: ${o}`,c)}this.levels.sort((o,c)=>o.id-c.id)}getCurrentLevel(){return this.levels[this.currentLevelIndex]||null}getLevel(r){return this.levels.find(o=>o.id===r)||null}nextLevel(){return this.currentLevelIndex<this.levels.length-1?(this.currentLevelIndex++,this.getCurrentLevel()):null}previousLevel(){return this.currentLevelIndex>0?(this.currentLevelIndex--,this.getCurrentLevel()):null}setLevel(r){const o=this.levels.findIndex(c=>c.id===r);return o!==-1?(this.currentLevelIndex=o,!0):!1}jumpToLevel(r){return this.setLevel(r)}resetToFirstLevel(){this.currentLevelIndex=0}isLastLevel(){return this.currentLevelIndex===this.levels.length-1}isFirstLevel(){return this.currentLevelIndex===0}getTotalLevels(){return this.levels.length}getCurrentLevelNumber(){return this.currentLevelIndex+1}getAllLevels(){return[...this.levels]}}const L=new vt,E=[];function wt(i,r=T){let o;const c=new Set;function t(n){if(le(i,n)&&(i=n,o)){const f=!E.length;for(const h of c)h[1](),E.push(h,i);if(f){for(let h=0;h<E.length;h+=2)E[h][0](E[h+1]);E.length=0}}}function d(n){t(n(i))}function s(n,f=T){const h=[n,f];return c.add(h),c.size===1&&(o=r(t,d)||T),n(i),()=>{c.delete(h),c.size===0&&o&&(o(),o=null)}}return{set:t,update:d,subscribe:s}}const Q="breakait_high_score";function St(){const i=typeof window<"u"?parseInt(localStorage.getItem(Q)||"0",10):0,{subscribe:r,set:o,update:c}=wt(i);return{subscribe:r,updateHighScore:t=>{c(d=>{const s=Math.max(d,t);return typeof window<"u"&&localStorage.setItem(Q,s.toString()),s})},reset:()=>{o(0),typeof window<"u"&&localStorage.removeItem(Q)}}}const se=St();function bt(i){let r;return{c(){r=q("canvas"),H(r,"width",p),H(r,"height",w),H(r,"class","game-canvas svelte-15xstpr")},m(o,c){me(o,r,c),i[1](r)},p:T,i:T,o:T,d(o){o&&ae(r),i[1](null)}}}const p=800,w=600,Z="I WIN!",ee="I LOSE",Lt=60;function Tt(i,r,o){let c,t=null;const d={width:75,height:20,padding:10,offsetTop:30,offsetLeft:30,color:["#f00","#ff0","#0f0"]};let s={score:0,lives:5,level:1,gameOver:!1,gameStarted:!1,gamePaused:!1,initialStart:!0,gameWon:!1,stickyBall:!1,fireBall:!1},n={x:p/2-50,y:w-20,width:100,height:10,dx:0,acceleration:.5,maxSpeed:10},f=[],h=[],x=[],g=[],v=[],A=!1,I=!1,C="",z=!1,_=0,K,R=0,N=0;const j=1e3/Lt;we(async()=>{if(!c){console.error("Canvas element not found");return}if(t=c.getContext("2d"),!t){console.error("Could not get 2D context from canvas");return}await L.loadLevels(),Y(),ke(),R=performance.now(),fe()}),at(()=>{K&&cancelAnimationFrame(K)});function ke(){document.addEventListener("keydown",$e),document.addEventListener("keyup",Ae),document.addEventListener("mousemove",Ie),document.addEventListener("click",Me),document.addEventListener("touchstart",Oe,{passive:!1}),document.addEventListener("touchmove",Ee,{passive:!1}),document.addEventListener("touchend",Be,{passive:!1}),document.addEventListener("click",()=>b.initAudioOnInteraction()),document.addEventListener("touchstart",()=>b.initAudioOnInteraction()),document.addEventListener("keydown",()=>b.initAudioOnInteraction())}function Y(){const e=L.getCurrentLevel();e&&(s.lives=e.lives,Pe(),ce())}function Pe(e){const l=L.getCurrentLevel();if(!l)return;f=[{x:n.x+n.width/2,y:n.y-10,radius:10,speed:l.ballSpeed,dx:l.ballSpeed,dy:-l.ballSpeed,color:"#fff"}]}function ce(){const e=L.getCurrentLevel();if(!e)return;h=[];const l=e.bricks.layout;for(let a=0;a<e.bricks.cols;a++){h[a]=[];for(let u=0;u<e.bricks.rows;u++){const y=a*(d.width+d.padding)+d.offsetLeft,S=u*(d.height+d.padding)+d.offsetTop,m=l[u]&&l[u][a]?l[u][a]:0;m>0&&(h[a][u]={x:y,y:S,status:1,hits:m})}}}function $e(e){var a;e.key==="Right"||e.key==="ArrowRight"?A=!0:e.key==="Left"||e.key==="ArrowLeft"?I=!0:e.code==="Space"&&!s.gameStarted&&(s.gameStarted=!0,s.initialStart=!1);const l={"!":1,"@":2,"#":3,$:4,"%":5,"^":6,"&":7,"*":8,"(":9,")":10};if(e.shiftKey&&l.hasOwnProperty(e.key)){const u=l[e.key];u>0&&L.jumpToLevel(u)&&(s.level=u,s.gameOver=!1,s.gameWon=!1,s.gameStarted=!1,s.initialStart=!1,s.lives=((a=L.getCurrentLevel())==null?void 0:a.lives)||5,s.score=0,f=[],x=[],g=[],v=[],Y(),v.push({text:`Jumped to Level ${u}!`,time:120}))}e.key.length===1&&(C+=e.key,C.length>Math.max(Z.length,ee.length)&&(C=C.slice(-Math.max(Z.length,ee.length))),C===Z?(s.gameWon=!0,s.gameOver=!0,C=""):C===ee&&(s.lives=0,s.gameOver=!0,s.gameWon=!1,C=""))}function Ae(e){e.key==="Right"||e.key==="ArrowRight"?A=!1:(e.key==="Left"||e.key==="ArrowLeft")&&(I=!1)}function Ie(e){const l=c.getBoundingClientRect(),a=e.clientX-l.left;if(a>=0&&a<=l.width){const u=p/l.width,y=a*u;n.x=y-n.width/2,n.x<0?n.x=0:n.x+n.width>p&&(n.x=p-n.width)}}function Me(){s.gameOver?ue():s.gameStarted||(s.gameStarted=!0,s.initialStart=!1)}function Oe(e){e.preventDefault(),z=!0;const l=c.getBoundingClientRect(),u=e.touches[0].clientX-l.left;if(u>=0&&u<=l.width){const y=p/l.width,S=u*y;n.x=S-n.width/2,n.x<0?n.x=0:n.x+n.width>p&&(n.x=p-n.width)}s.gameOver?ue():s.gameStarted||(s.gameStarted=!0,s.initialStart=!1)}function Ee(e){if(e.preventDefault(),z){const l=c.getBoundingClientRect(),u=e.touches[0].clientX-l.left;if(u>=0&&u<=l.width){const y=p/l.width,S=u*y;n.x=S-n.width/2,n.x<0?n.x=0:n.x+n.width>p&&(n.x=p-n.width)}}}function Be(e){e.preventDefault(),z=!1}function He(){if(s.gameOver||s.gamePaused)return;!s.gameStarted&&f[0]&&(f[0].x=n.x+n.width/2,f[0].y=n.y-f[0].radius);const e=N/j;A?(n.dx+=n.acceleration*e,n.dx>n.maxSpeed&&(n.dx=n.maxSpeed)):I?(n.dx-=n.acceleration*e,n.dx<-10&&(n.dx=-10)):n.dx*=Math.pow(.9,e),n.x+=n.dx*e,n.x<0?(n.x=0,n.dx=0):n.x+n.width>p&&(n.x=p-n.width,n.dx=0),s.gameStarted&&f[0]&&(f[0].x+=f[0].dx*e,f[0].y+=f[0].dy*e),Ue(),Ge(),je(),De()}function Ue(){if(!f[0])return;const e=f[0];for(let l=0;l<h.length;l++)for(let a=0;a<h[l].length;a++){const u=h[l][a];if(u&&u.status===1&&e.x+e.radius>u.x&&e.x-e.radius<u.x+d.width&&e.y+e.radius>u.y&&e.y-e.radius<u.y+d.height){if(e.dy=-e.dy,b.playBrickHit(),s.fireBall){u.status=0;const y=performance.now(),S=_>0?(y-_)/1e3:999;let m=1;if(_>0)if(S<=5){const D=(5-S)/5;m=1+9*Math.pow(D,.7)}else m=1;const k=Math.round(100*m);s.score+=k,_=y,m>1&&v.push({text:`FIRE COMBO x${Math.round(m)}! +${k}`,time:90})}else if(u.hits--,u.hits===0){u.status=0;const y=performance.now(),S=_>0?(y-_)/1e3:999;let m=1;if(_>0)if(S<=5){const X=(5-S)/5;m=1+9*Math.pow(X,.7)}else m=1;const k=Math.round(100*m);s.score+=k,_=y,m>1&&v.push({text:`COMBO x${Math.round(m)}! +${k}`,time:90}),b.playBrickDestroyed();for(let X=0;X<10;X++)g.push({x:u.x+d.width/2,y:u.y+d.height/2,radius:Math.random()*2+1,color:d.color[2],dx:(Math.random()-.5)*4,dy:(Math.random()-.5)*4,life:30});const D=L.getCurrentLevel();D&&Math.random()<D.powerUpChance&&Ne(u.x,u.y)}Re()&&(L.nextLevel()?(ce(),de(),s.level++):(s.gameWon=!0,s.gameOver=!0,b.playWin(),se.updateHighScore(s.score)))}}if(e.x>n.x&&e.x<n.x+n.width&&e.y+e.radius>n.y){b.playPaddleHit();let l=e.x-(n.x+n.width/2);l=l/(n.width/2);let a=l*(Math.PI/3);const u=Math.sqrt(e.dx*e.dx+e.dy*e.dy);e.dx=u*Math.sin(a),e.dy=-u*Math.cos(a),s.stickyBall&&(s.gameStarted=!1,e.y=n.y-e.radius)}e.x+e.dx>p-e.radius?(e.x=p-e.radius,e.dx=-e.dx,b.playWallHit()):e.x+e.dx<e.radius&&(e.x=e.radius,e.dx=-e.dx,b.playWallHit()),e.y+e.dy<e.radius?(e.y=e.radius,e.dy=-e.dy,b.playWallHit()):e.y+e.dy>w-e.radius&&(s.lives--,b.playLifeLost(),s.lives<=0?(s.gameOver=!0,b.playGameOver(),se.updateHighScore(s.score)):de())}function Re(){for(let e=0;e<h.length;e++)for(let l=0;l<h[e].length;l++){const a=h[e][l];if(a&&a.status===1)return!1}return!0}function Ne(e,l){const a=[{name:"fire",color:"#f5a623"},{name:"sticky",color:"#4a90e2"},{name:"extraBall",color:"#7ed321"},{name:"slowDown",color:"#d0021b"}],u=[{name:"speedUp",color:"#bd10e0"},{name:"clearGood",color:"#9013fe"}],y=Math.random()<.7?a[Math.floor(Math.random()*a.length)]:u[Math.floor(Math.random()*u.length)];x.push({x:e,y:l,type:y.name,color:y.color,dy:2})}function Ge(){const e=N/j;for(let l=x.length-1;l>=0;l--){const a=x[l];a.y+=a.dy*e,a.y>n.y&&a.x>n.x&&a.x<n.x+n.width&&(b.playPowerUp(),We(a.type),x.splice(l,1)),a.y>w&&x.splice(l,1)}}function We(e){switch(v.push({text:e.toUpperCase()+"!",time:120}),e){case"fire":s.fireBall=!0,setTimeout(()=>s.fireBall=!1,1e4);break;case"sticky":s.stickyBall=!0,setTimeout(()=>s.stickyBall=!1,1e4);break;case"extraBall":s.lives++;break;case"slowDown":f[0]&&(f[0].dx/=2,f[0].dy/=2,setTimeout(()=>{f[0]&&(f[0].dx*=2,f[0].dy*=2)},1e4));break;case"speedUp":f[0]&&(f[0].dx*=2,f[0].dy*=2,setTimeout(()=>{f[0]&&(f[0].dx/=2,f[0].dy/=2)},1e4));break;case"clearGood":s.fireBall=!1,s.stickyBall=!1;break}}function je(){const e=N/j;for(let l=g.length-1;l>=0;l--){const a=g[l];a.x+=a.dx*e,a.y+=a.dy*e,a.life-=e,a.life<=0&&g.splice(l,1)}}function De(){const e=N/j;for(let l=v.length-1;l>=0;l--)v[l].time-=e,v[l].time<=0&&v.splice(l,1)}function de(){if(s.gameStarted=!1,f[0]){f[0].x=p/2,f[0].y=w-30;const e=L.getCurrentLevel();e&&(f[0].dx=e.ballSpeed,f[0].dy=-e.ballSpeed)}n.x=(p-n.width)/2}function ue(){s={score:0,lives:5,level:1,gameOver:!1,gameStarted:!1,gamePaused:!1,initialStart:!0,gameWon:!1,stickyBall:!1,fireBall:!1},n.x=p/2-50,n.dx=0,L.resetToFirstLevel(),f=[],x=[],g=[],v=[],Y()}function Xe(){t&&(t.clearRect(0,0,p,w),Ve(),qe(),Fe(),ze(),Ke(),Ye(),Je(),s.gameOver?Qe():s.initialStart&&Ze())}function qe(){if(!t)return;t.beginPath();const e=n.height/2,l=t.createLinearGradient(n.x,n.y,n.x,n.y+n.height);l.addColorStop(0,"#888"),l.addColorStop(1,"#fff"),t.fillStyle=l,t.moveTo(n.x+e,n.y),t.lineTo(n.x+n.width-e,n.y),t.quadraticCurveTo(n.x+n.width,n.y,n.x+n.width,n.y+e),t.lineTo(n.x+n.width,n.y+n.height-e),t.quadraticCurveTo(n.x+n.width,n.y+n.height,n.x+n.width-e,n.y+n.height),t.lineTo(n.x+e,n.y+n.height),t.quadraticCurveTo(n.x,n.y+n.height,n.x,n.y+n.height-e),t.lineTo(n.x,n.y+e),t.quadraticCurveTo(n.x,n.y,n.x+e,n.y),t.fill(),t.closePath(),t.beginPath(),t.fillStyle="rgba(255, 255, 255, 0.3)",t.moveTo(n.x+e,n.y),t.lineTo(n.x+n.width-e,n.y),t.quadraticCurveTo(n.x+n.width,n.y,n.x+n.width,n.y+e),t.lineTo(n.x+n.width,n.y+n.height/2),t.lineTo(n.x,n.y+n.height/2),t.lineTo(n.x,n.y+e),t.quadraticCurveTo(n.x,n.y,n.x+e,n.y),t.fill(),t.closePath()}function Fe(){if(t)for(const e of f){t.beginPath();const l=t.createRadialGradient(e.x-e.radius*.3,e.y-e.radius*.3,0,e.x,e.y,e.radius),a=s.fireBall?"#f5a623":e.color;l.addColorStop(0,"#fff"),l.addColorStop(.4,a),l.addColorStop(.8,"#666"),l.addColorStop(1,"#333"),t.fillStyle=l,t.arc(e.x,e.y,e.radius,0,Math.PI*2),t.fill(),t.closePath(),t.beginPath();const u=t.createRadialGradient(e.x-e.radius*.4,e.y-e.radius*.4,0,e.x-e.radius*.4,e.y-e.radius*.4,e.radius*.6);u.addColorStop(0,"rgba(255, 255, 255, 0.8)"),u.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=u,t.arc(e.x,e.y,e.radius*.6,0,Math.PI*2),t.fill(),t.closePath()}}function Ve(){if(t)for(let e=0;e<h.length;e++)for(let l=0;l<h[e].length;l++){const a=h[e][l];if(a&&a.status===1){t.beginPath();const u=a.x-d.width*.2,y=a.y-d.height*.2,S=a.x+d.width*1.2,m=a.y+d.height*1.2,$=t.createLinearGradient(u,y,S,m),k=d.color[a.hits-1];$.addColorStop(0,"#000"),$.addColorStop(.3,k),$.addColorStop(.7,"#fff"),$.addColorStop(1,k),t.fillStyle=$,t.rect(a.x,a.y,d.width,d.height),t.fill(),t.closePath(),t.beginPath(),t.strokeStyle="rgba(255, 255, 255, 0.3)",t.lineWidth=1,t.moveTo(a.x,a.y),t.lineTo(a.x+d.width*.3,a.y),t.stroke(),t.closePath()}}}function ze(){if(t)for(const e of x)t.beginPath(),t.rect(e.x,e.y,10,10),t.fillStyle=e.color,t.fill(),t.closePath()}function Ke(){if(t)for(const e of g)t.beginPath(),t.arc(e.x,e.y,e.radius,0,Math.PI*2),t.fillStyle=e.color,t.fill(),t.closePath()}function Ye(){if(!t)return;t.font='16px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="left",t.fillText("Score: "+s.score,8,20),t.fillText("Level: "+L.getCurrentLevelNumber(),8,40),t.textAlign="right",t.fillText("Lives: "+s.lives,p-8,20);const e=L.getCurrentLevel();e&&t.fillText(e.name,p-8,40)}function Je(){if(t){t.font='16px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="center";for(let e=0;e<v.length;e++)t.fillText(v[e].text,p/2,60+e*20)}}function Qe(){t&&(t.font='48px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="center",s.gameWon?(t.fillText("YOU WIN!",p/2,w/2),t.font='24px "Press Start 2P", monospace',t.fillText("Score: "+s.score,p/2,w/2+50),t.font='16px "Press Start 2P", monospace',t.fillText("Click to Restart",p/2,w/2+80)):(t.fillText("GAME OVER",p/2,w/2),t.font='24px "Press Start 2P", monospace',t.fillText("Score: "+s.score,p/2,w/2+50),t.font='16px "Press Start 2P", monospace',t.fillText("Click to Restart",p/2,w/2+80)))}function Ze(){if(!t)return;t.font='24px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="center",t.fillText("Click or Space to Start",p/2,w/2);const e=L.getCurrentLevel();e&&(t.font='16px "Press Start 2P", monospace',t.fillText(`Level ${e.id}: ${e.name}`,p/2,w/2+30))}function fe(e=performance.now()){R===0&&(R=e),N=e-R,R=e,He(),Xe(),K=requestAnimationFrame(fe)}function et(e){ie[e?"unshift":"push"](()=>{c=e,o(0,c)})}return[c,et]}class Ct extends _e{constructor(r){super(),Ce(this,r,Tt,bt,le,{},null,[-1,-1])}}function _t(i){let r,o,c,t,d,s,n,f,h;return f=new Ct({}),{c(){r=q("main"),o=q("h1"),o.textContent="BREAKAIT",c=pe(),t=q("div"),d=ne("High Score: "),s=ne(i[0]),n=pe(),xt(f.$$.fragment),H(o,"class","svelte-143d91w"),H(t,"class","high-score svelte-143d91w"),H(r,"class","svelte-143d91w")},m(x,g){me(x,r,g),M(r,o),M(r,c),M(r,t),M(t,d),M(t,s),M(r,n),Le(f,r,null),h=!0},p(x,[g]){(!h||g&1)&&lt(s,x[0])},i(x){h||(be(f.$$.fragment,x),h=!0)},o(x){pt(f.$$.fragment,x),h=!1},d(x){x&&ae(r),Te(f)}}}function te(){}function kt(i,r,o){let c;return ot(i,se,t=>o(0,c=t)),we(()=>{document.addEventListener("click",te),document.addEventListener("touchstart",te),document.addEventListener("keydown",te)}),[c]}class Pt extends _e{constructor(r){super(),Ce(this,r,kt,_t,le,{})}}new Pt({target:document.getElementById("app")});
