var tt=Object.defineProperty;var nt=(i,r,o)=>r in i?tt(i,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[r]=o;var k=(i,r,o)=>nt(i,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const d of t)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const d={};return t.integrity&&(d.integrity=t.integrity),t.referrerPolicy&&(d.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?d.credentials="include":t.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(t){if(t.ep)return;t.ep=!0;const d=o(t);fetch(t.href,d)}})();function C(){}function ge(i){return i()}function he(){return Object.create(null)}function V(i){i.forEach(ge)}function ye(i){return typeof i=="function"}function se(i,r){return i!=i?r==r:i!==r||i&&typeof i=="object"||typeof i=="function"}function it(i){return Object.keys(i).length===0}function rt(i,...r){if(i==null){for(const c of r)c(void 0);return C}const o=i.subscribe(...r);return o.unsubscribe?()=>o.unsubscribe():o}function ot(i,r,o){i.$$.on_destroy.push(rt(r,o))}function M(i,r){i.appendChild(r)}function me(i,r,o){i.insertBefore(r,o||null)}function le(i){i.parentNode&&i.parentNode.removeChild(i)}function F(i){return document.createElement(i)}function te(i){return document.createTextNode(i)}function pe(){return te(" ")}function H(i,r,o){o==null?i.removeAttribute(r):i.getAttribute(r)!==o&&i.setAttribute(r,o)}function st(i){return Array.from(i.childNodes)}function lt(i,r){r=""+r,i.data!==r&&(i.data=r)}let W;function N(i){W=i}function ve(){if(!W)throw new Error("Function called outside component initialization");return W}function we(i){ve().$$.on_mount.push(i)}function at(i){ve().$$.on_destroy.push(i)}const B=[],ne=[];let U=[];const xe=[],ct=Promise.resolve();let ie=!1;function dt(){ie||(ie=!0,ct.then(Se))}function re(i){U.push(i)}const Y=new Set;let O=0;function Se(){if(O!==0)return;const i=W;do{try{for(;O<B.length;){const r=B[O];O++,N(r),ut(r.$$)}}catch(r){throw B.length=0,O=0,r}for(N(null),B.length=0,O=0;ne.length;)ne.pop()();for(let r=0;r<U.length;r+=1){const o=U[r];Y.has(o)||(Y.add(o),o())}U.length=0}while(B.length);for(;xe.length;)xe.pop()();ie=!1,Y.clear(),N(i)}function ut(i){if(i.fragment!==null){i.update(),V(i.before_update);const r=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,r),i.after_update.forEach(re)}}function ft(i){const r=[],o=[];U.forEach(c=>i.indexOf(c)===-1?r.push(c):o.push(c)),o.forEach(c=>c()),U=r}const j=new Set;let ht;function be(i,r){i&&i.i&&(j.delete(i),i.i(r))}function pt(i,r,o,c){if(i&&i.o){if(j.has(i))return;j.add(i),ht.c.push(()=>{j.delete(i)}),i.o(r)}}function xt(i){i&&i.c()}function Le(i,r,o){const{fragment:c,after_update:t}=i.$$;c&&c.m(r,o),re(()=>{const d=i.$$.on_mount.map(ge).filter(ye);i.$$.on_destroy?i.$$.on_destroy.push(...d):V(d),i.$$.on_mount=[]}),t.forEach(re)}function Ce(i,r){const o=i.$$;o.fragment!==null&&(ft(o.after_update),V(o.on_destroy),o.fragment&&o.fragment.d(r),o.on_destroy=o.fragment=null,o.ctx=[])}function gt(i,r){i.$$.dirty[0]===-1&&(B.push(i),dt(),i.$$.dirty.fill(0)),i.$$.dirty[r/31|0]|=1<<r%31}function _e(i,r,o,c,t,d,s=null,n=[-1]){const u=W;N(i);const f=i.$$={fragment:null,ctx:[],props:d,update:C,not_equal:t,bound:he(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(u?u.$$.context:[])),callbacks:he(),dirty:n,skip_bound:!1,root:r.target||u.$$.root};s&&s(f.root);let x=!1;if(f.ctx=o?o(i,r.props||{},(g,w,...A)=>{const I=A.length?A[0]:w;return f.ctx&&t(f.ctx[g],f.ctx[g]=I)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](I),x&&gt(i,g)),w}):[],f.update(),x=!0,V(f.before_update),f.fragment=c?c(f.ctx):!1,r.target){if(r.hydrate){const g=st(r.target);f.fragment&&f.fragment.l(g),g.forEach(le)}else f.fragment&&f.fragment.c();r.intro&&be(i.$$.fragment),Le(i,r.target,r.anchor),Se()}N(u)}class Te{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=C}$on(r,o){if(!ye(o))return C;const c=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return c.push(o),()=>{const t=c.indexOf(o);t!==-1&&c.splice(t,1)}}$set(r){this.$$set&&!it(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}const yt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yt);class mt{constructor(){k(this,"audioContext",null);k(this,"sounds",{});k(this,"initialized",!1);this.initAudio()}initAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&this.audioContext.resume(),this.createSounds(),this.initialized=!0}catch(r){console.warn("Audio not supported:",r)}}createSounds(){this.audioContext&&(this.sounds.paddleHit=this.createTone(200,.1,"sine"),this.sounds.brickHit=this.createTone(400,.15,"square"),this.sounds.brickDestroyed=this.createTone(600,.2,"sawtooth"),this.sounds.wallHit=this.createTone(300,.1,"triangle"),this.sounds.lifeLost=this.createTone(150,.3,"sawtooth"),this.sounds.powerUp=this.createTone(600,.2,"sine"),this.sounds.gameOver=this.createTone(100,.5,"sawtooth"),this.sounds.win=this.createTone(800,.3,"sine"))}createTone(r,o,c){return()=>{if(this.audioContext)try{this.audioContext.state==="suspended"&&this.audioContext.resume();const t=this.audioContext.createOscillator(),d=this.audioContext.createGain();t.connect(d),d.connect(this.audioContext.destination),t.frequency.setValueAtTime(r,this.audioContext.currentTime),t.type=c,d.gain.setValueAtTime(.3,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+o),t.start(this.audioContext.currentTime),t.stop(this.audioContext.currentTime+o)}catch(t){console.warn("Audio not ready:",t)}}}initAudioOnInteraction(){this.initialized||this.initAudio()}play(r){this.sounds[r]&&this.sounds[r]()}playPaddleHit(){this.play("paddleHit")}playBrickHit(){this.play("brickHit")}playBrickDestroyed(){this.play("brickDestroyed")}playWallHit(){this.play("wallHit")}playLifeLost(){this.play("lifeLost")}playPowerUp(){this.play("powerUp")}playGameOver(){this.play("gameOver")}playWin(){this.play("win")}}const b=new mt;class vt{constructor(){k(this,"levels",[]);k(this,"currentLevelIndex",0)}async loadLevels(){const r=["level1.json","level2.json","level3.json"];for(const o of r)try{const c=await fetch(`./levels/${o}`);if(c.ok){const t=await c.json();this.levels.push(t)}}catch(c){console.warn(`Failed to load level file: ${o}`,c)}this.levels.sort((o,c)=>o.id-c.id)}getCurrentLevel(){return this.levels[this.currentLevelIndex]||null}getLevel(r){return this.levels.find(o=>o.id===r)||null}nextLevel(){return this.currentLevelIndex<this.levels.length-1?(this.currentLevelIndex++,this.getCurrentLevel()):null}previousLevel(){return this.currentLevelIndex>0?(this.currentLevelIndex--,this.getCurrentLevel()):null}setLevel(r){const o=this.levels.findIndex(c=>c.id===r);return o!==-1?(this.currentLevelIndex=o,!0):!1}resetToFirstLevel(){this.currentLevelIndex=0}isLastLevel(){return this.currentLevelIndex===this.levels.length-1}isFirstLevel(){return this.currentLevelIndex===0}getTotalLevels(){return this.levels.length}getCurrentLevelNumber(){return this.currentLevelIndex+1}getAllLevels(){return[...this.levels]}}const L=new vt,E=[];function wt(i,r=C){let o;const c=new Set;function t(n){if(se(i,n)&&(i=n,o)){const u=!E.length;for(const f of c)f[1](),E.push(f,i);if(u){for(let f=0;f<E.length;f+=2)E[f][0](E[f+1]);E.length=0}}}function d(n){t(n(i))}function s(n,u=C){const f=[n,u];return c.add(f),c.size===1&&(o=r(t,d)||C),n(i),()=>{c.delete(f),c.size===0&&o&&(o(),o=null)}}return{set:t,update:d,subscribe:s}}const J="breakait_high_score";function St(){const i=typeof window<"u"?parseInt(localStorage.getItem(J)||"0",10):0,{subscribe:r,set:o,update:c}=wt(i);return{subscribe:r,updateHighScore:t=>{c(d=>{const s=Math.max(d,t);return typeof window<"u"&&localStorage.setItem(J,s.toString()),s})},reset:()=>{o(0),typeof window<"u"&&localStorage.removeItem(J)}}}const oe=St();function bt(i){let r;return{c(){r=F("canvas"),H(r,"width",p),H(r,"height",v),H(r,"class","game-canvas svelte-15xstpr")},m(o,c){me(o,r,c),i[1](r)},p:C,i:C,o:C,d(o){o&&le(r),i[1](null)}}}const p=800,v=600,Q="I WIN!",Z="I LOSE",Lt=60;function Ct(i,r,o){let c,t=null;const d={width:75,height:20,padding:10,offsetTop:30,offsetLeft:30,color:["#f00","#ff0","#0f0"]};let s={score:0,lives:5,level:1,gameOver:!1,gameStarted:!1,gamePaused:!1,initialStart:!0,gameWon:!1,stickyBall:!1,fireBall:!1},n={x:p/2-50,y:v-20,width:100,height:10,dx:0,acceleration:.5,maxSpeed:10},u=[],f=[],x=[],g=[],w=[],A=!1,I=!1,_="",z=!1,T=0,K,R=0,G=0;const D=1e3/Lt;we(async()=>{if(!c){console.error("Canvas element not found");return}if(t=c.getContext("2d"),!t){console.error("Could not get 2D context from canvas");return}await L.loadLevels(),ae(),Pe(),R=performance.now(),fe()}),at(()=>{K&&cancelAnimationFrame(K)});function Pe(){document.addEventListener("keydown",$e),document.addEventListener("keyup",Ae),document.addEventListener("mousemove",Ie),document.addEventListener("click",Me),document.addEventListener("touchstart",Oe,{passive:!1}),document.addEventListener("touchmove",Ee,{passive:!1}),document.addEventListener("touchend",Be,{passive:!1}),document.addEventListener("click",()=>b.initAudioOnInteraction()),document.addEventListener("touchstart",()=>b.initAudioOnInteraction()),document.addEventListener("keydown",()=>b.initAudioOnInteraction())}function ae(){const e=L.getCurrentLevel();e&&(s.lives=e.lives,ke(),ce())}function ke(e){const l=L.getCurrentLevel();if(!l)return;u=[{x:n.x+n.width/2,y:n.y-10,radius:10,speed:l.ballSpeed,dx:l.ballSpeed,dy:-l.ballSpeed,color:"#fff"}]}function ce(){const e=L.getCurrentLevel();if(!e)return;f=[];const l=e.bricks.layout;for(let a=0;a<e.bricks.cols;a++){f[a]=[];for(let h=0;h<e.bricks.rows;h++){const y=a*(d.width+d.padding)+d.offsetLeft,S=h*(d.height+d.padding)+d.offsetTop,m=l[h]&&l[h][a]?l[h][a]:0;m>0&&(f[a][h]={x:y,y:S,status:1,hits:m})}}}function $e(e){e.key==="Right"||e.key==="ArrowRight"?A=!0:e.key==="Left"||e.key==="ArrowLeft"?I=!0:e.code==="Space"&&!s.gameStarted&&(s.gameStarted=!0,s.initialStart=!1),e.key.length===1&&(_+=e.key,_.length>Math.max(Q.length,Z.length)&&(_=_.slice(-Math.max(Q.length,Z.length))),_===Q?(s.gameWon=!0,s.gameOver=!0,_=""):_===Z&&(s.lives=0,s.gameOver=!0,s.gameWon=!1,_=""))}function Ae(e){e.key==="Right"||e.key==="ArrowRight"?A=!1:(e.key==="Left"||e.key==="ArrowLeft")&&(I=!1)}function Ie(e){const l=c.getBoundingClientRect(),a=e.clientX-l.left;if(a>=0&&a<=l.width){const h=p/l.width,y=a*h;n.x=y-n.width/2,n.x<0?n.x=0:n.x+n.width>p&&(n.x=p-n.width)}}function Me(){s.gameOver?ue():s.gameStarted||(s.gameStarted=!0,s.initialStart=!1)}function Oe(e){e.preventDefault(),z=!0;const l=c.getBoundingClientRect(),h=e.touches[0].clientX-l.left;if(h>=0&&h<=l.width){const y=p/l.width,S=h*y;n.x=S-n.width/2,n.x<0?n.x=0:n.x+n.width>p&&(n.x=p-n.width)}s.gameOver?ue():s.gameStarted||(s.gameStarted=!0,s.initialStart=!1)}function Ee(e){if(e.preventDefault(),z){const l=c.getBoundingClientRect(),h=e.touches[0].clientX-l.left;if(h>=0&&h<=l.width){const y=p/l.width,S=h*y;n.x=S-n.width/2,n.x<0?n.x=0:n.x+n.width>p&&(n.x=p-n.width)}}}function Be(e){e.preventDefault(),z=!1}function He(){if(s.gameOver||s.gamePaused)return;!s.gameStarted&&u[0]&&(u[0].x=n.x+n.width/2,u[0].y=n.y-u[0].radius);const e=G/D;A?(n.dx+=n.acceleration*e,n.dx>n.maxSpeed&&(n.dx=n.maxSpeed)):I?(n.dx-=n.acceleration*e,n.dx<-10&&(n.dx=-10)):n.dx*=Math.pow(.9,e),n.x+=n.dx*e,n.x<0?(n.x=0,n.dx=0):n.x+n.width>p&&(n.x=p-n.width,n.dx=0),s.gameStarted&&u[0]&&(u[0].x+=u[0].dx*e,u[0].y+=u[0].dy*e),Ue(),Ne(),De(),Xe()}function Ue(){if(!u[0])return;const e=u[0];for(let l=0;l<f.length;l++)for(let a=0;a<f[l].length;a++){const h=f[l][a];if(h&&h.status===1&&e.x+e.radius>h.x&&e.x-e.radius<h.x+d.width&&e.y+e.radius>h.y&&e.y-e.radius<h.y+d.height){if(e.dy=-e.dy,b.playBrickHit(),s.fireBall){h.status=0;const y=performance.now(),S=T>0?(y-T)/1e3:999;let m=1;if(T>0)if(S<=5){const X=(5-S)/5;m=1+9*Math.pow(X,.7)}else m=1;const P=Math.round(100*m);s.score+=P,T=y,m>1&&w.push({text:`FIRE COMBO x${Math.round(m)}! +${P}`,time:90})}else if(h.hits--,h.hits===0){h.status=0;const y=performance.now(),S=T>0?(y-T)/1e3:999;let m=1;if(T>0)if(S<=5){const q=(5-S)/5;m=1+9*Math.pow(q,.7)}else m=1;const P=Math.round(100*m);s.score+=P,T=y,m>1&&w.push({text:`COMBO x${Math.round(m)}! +${P}`,time:90}),b.playBrickDestroyed();for(let q=0;q<10;q++)g.push({x:h.x+d.width/2,y:h.y+d.height/2,radius:Math.random()*2+1,color:d.color[2],dx:(Math.random()-.5)*4,dy:(Math.random()-.5)*4,life:30});const X=L.getCurrentLevel();X&&Math.random()<X.powerUpChance&&Ge(h.x,h.y)}Re()&&(L.nextLevel()?(ce(),de(),s.level++):(s.gameWon=!0,s.gameOver=!0,b.playWin(),oe.updateHighScore(s.score)))}}if(e.x>n.x&&e.x<n.x+n.width&&e.y+e.radius>n.y){b.playPaddleHit();let l=e.x-(n.x+n.width/2);l=l/(n.width/2);let a=l*(Math.PI/3);const h=Math.sqrt(e.dx*e.dx+e.dy*e.dy);e.dx=h*Math.sin(a),e.dy=-h*Math.cos(a),s.stickyBall&&(s.gameStarted=!1,e.y=n.y-e.radius)}e.x+e.dx>p-e.radius?(e.x=p-e.radius,e.dx=-e.dx,b.playWallHit()):e.x+e.dx<e.radius&&(e.x=e.radius,e.dx=-e.dx,b.playWallHit()),e.y+e.dy<e.radius?(e.y=e.radius,e.dy=-e.dy,b.playWallHit()):e.y+e.dy>v-e.radius&&(s.lives--,b.playLifeLost(),s.lives<=0?(s.gameOver=!0,b.playGameOver(),oe.updateHighScore(s.score)):de())}function Re(){for(let e=0;e<f.length;e++)for(let l=0;l<f[e].length;l++){const a=f[e][l];if(a&&a.status===1)return!1}return!0}function Ge(e,l){const a=[{name:"fire",color:"#f5a623"},{name:"sticky",color:"#4a90e2"},{name:"extraBall",color:"#7ed321"},{name:"slowDown",color:"#d0021b"}],h=[{name:"speedUp",color:"#bd10e0"},{name:"clearGood",color:"#9013fe"}],y=Math.random()<.7?a[Math.floor(Math.random()*a.length)]:h[Math.floor(Math.random()*h.length)];x.push({x:e,y:l,type:y.name,color:y.color,dy:2})}function Ne(){const e=G/D;for(let l=x.length-1;l>=0;l--){const a=x[l];a.y+=a.dy*e,a.y>n.y&&a.x>n.x&&a.x<n.x+n.width&&(b.playPowerUp(),We(a.type),x.splice(l,1)),a.y>v&&x.splice(l,1)}}function We(e){switch(w.push({text:e.toUpperCase()+"!",time:120}),e){case"fire":s.fireBall=!0,setTimeout(()=>s.fireBall=!1,1e4);break;case"sticky":s.stickyBall=!0,setTimeout(()=>s.stickyBall=!1,1e4);break;case"extraBall":s.lives++;break;case"slowDown":u[0]&&(u[0].dx/=2,u[0].dy/=2,setTimeout(()=>{u[0]&&(u[0].dx*=2,u[0].dy*=2)},1e4));break;case"speedUp":u[0]&&(u[0].dx*=2,u[0].dy*=2,setTimeout(()=>{u[0]&&(u[0].dx/=2,u[0].dy/=2)},1e4));break;case"clearGood":s.fireBall=!1,s.stickyBall=!1;break}}function De(){const e=G/D;for(let l=g.length-1;l>=0;l--){const a=g[l];a.x+=a.dx*e,a.y+=a.dy*e,a.life-=e,a.life<=0&&g.splice(l,1)}}function Xe(){const e=G/D;for(let l=w.length-1;l>=0;l--)w[l].time-=e,w[l].time<=0&&w.splice(l,1)}function de(){if(s.gameStarted=!1,u[0]){u[0].x=p/2,u[0].y=v-30;const e=L.getCurrentLevel();e&&(u[0].dx=e.ballSpeed,u[0].dy=-e.ballSpeed)}n.x=(p-n.width)/2}function ue(){s={score:0,lives:5,level:1,gameOver:!1,gameStarted:!1,gamePaused:!1,initialStart:!0,gameWon:!1,stickyBall:!1,fireBall:!1},n.x=p/2-50,n.dx=0,L.resetToFirstLevel(),u=[],x=[],g=[],w=[],ae()}function qe(){t&&(t.clearRect(0,0,p,v),Ve(),Fe(),je(),ze(),Ke(),Ye(),Je(),s.gameOver?Qe():s.initialStart&&Ze())}function Fe(){if(!t)return;t.beginPath();const e=n.height/2,l=t.createLinearGradient(n.x,n.y,n.x,n.y+n.height);l.addColorStop(0,"#888"),l.addColorStop(1,"#fff"),t.fillStyle=l,t.moveTo(n.x+e,n.y),t.lineTo(n.x+n.width-e,n.y),t.quadraticCurveTo(n.x+n.width,n.y,n.x+n.width,n.y+e),t.lineTo(n.x+n.width,n.y+n.height-e),t.quadraticCurveTo(n.x+n.width,n.y+n.height,n.x+n.width-e,n.y+n.height),t.lineTo(n.x+e,n.y+n.height),t.quadraticCurveTo(n.x,n.y+n.height,n.x,n.y+n.height-e),t.lineTo(n.x,n.y+e),t.quadraticCurveTo(n.x,n.y,n.x+e,n.y),t.fill(),t.closePath(),t.beginPath(),t.fillStyle="rgba(255, 255, 255, 0.3)",t.moveTo(n.x+e,n.y),t.lineTo(n.x+n.width-e,n.y),t.quadraticCurveTo(n.x+n.width,n.y,n.x+n.width,n.y+e),t.lineTo(n.x+n.width,n.y+n.height/2),t.lineTo(n.x,n.y+n.height/2),t.lineTo(n.x,n.y+e),t.quadraticCurveTo(n.x,n.y,n.x+e,n.y),t.fill(),t.closePath()}function je(){if(t)for(const e of u){t.beginPath();const l=t.createRadialGradient(e.x-e.radius*.3,e.y-e.radius*.3,0,e.x,e.y,e.radius),a=s.fireBall?"#f5a623":e.color;l.addColorStop(0,"#fff"),l.addColorStop(.4,a),l.addColorStop(.8,"#666"),l.addColorStop(1,"#333"),t.fillStyle=l,t.arc(e.x,e.y,e.radius,0,Math.PI*2),t.fill(),t.closePath(),t.beginPath();const h=t.createRadialGradient(e.x-e.radius*.4,e.y-e.radius*.4,0,e.x-e.radius*.4,e.y-e.radius*.4,e.radius*.6);h.addColorStop(0,"rgba(255, 255, 255, 0.8)"),h.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=h,t.arc(e.x,e.y,e.radius*.6,0,Math.PI*2),t.fill(),t.closePath()}}function Ve(){if(t)for(let e=0;e<f.length;e++)for(let l=0;l<f[e].length;l++){const a=f[e][l];if(a&&a.status===1){t.beginPath();const h=a.x-d.width*.2,y=a.y-d.height*.2,S=a.x+d.width*1.2,m=a.y+d.height*1.2,$=t.createLinearGradient(h,y,S,m),P=d.color[a.hits-1];$.addColorStop(0,"#000"),$.addColorStop(.3,P),$.addColorStop(.7,"#fff"),$.addColorStop(1,P),t.fillStyle=$,t.rect(a.x,a.y,d.width,d.height),t.fill(),t.closePath(),t.beginPath(),t.strokeStyle="rgba(255, 255, 255, 0.3)",t.lineWidth=1,t.moveTo(a.x,a.y),t.lineTo(a.x+d.width*.3,a.y),t.stroke(),t.closePath()}}}function ze(){if(t)for(const e of x)t.beginPath(),t.rect(e.x,e.y,10,10),t.fillStyle=e.color,t.fill(),t.closePath()}function Ke(){if(t)for(const e of g)t.beginPath(),t.arc(e.x,e.y,e.radius,0,Math.PI*2),t.fillStyle=e.color,t.fill(),t.closePath()}function Ye(){if(!t)return;t.font='16px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="left",t.fillText("Score: "+s.score,8,20),t.fillText("Level: "+L.getCurrentLevelNumber(),8,40),t.textAlign="right",t.fillText("Lives: "+s.lives,p-8,20);const e=L.getCurrentLevel();e&&t.fillText(e.name,p-8,40)}function Je(){if(t){t.font='16px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="center";for(let e=0;e<w.length;e++)t.fillText(w[e].text,p/2,60+e*20)}}function Qe(){t&&(t.font='48px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="center",s.gameWon?(t.fillText("YOU WIN!",p/2,v/2),t.font='24px "Press Start 2P", monospace',t.fillText("Score: "+s.score,p/2,v/2+50),t.font='16px "Press Start 2P", monospace',t.fillText("Click to Restart",p/2,v/2+80)):(t.fillText("GAME OVER",p/2,v/2),t.font='24px "Press Start 2P", monospace',t.fillText("Score: "+s.score,p/2,v/2+50),t.font='16px "Press Start 2P", monospace',t.fillText("Click to Restart",p/2,v/2+80)))}function Ze(){if(!t)return;t.font='24px "Press Start 2P", monospace',t.fillStyle="#fff",t.textAlign="center",t.fillText("Click or Space to Start",p/2,v/2);const e=L.getCurrentLevel();e&&(t.font='16px "Press Start 2P", monospace',t.fillText(`Level ${e.id}: ${e.name}`,p/2,v/2+30))}function fe(e=performance.now()){R===0&&(R=e),G=e-R,R=e,He(),qe(),K=requestAnimationFrame(fe)}function et(e){ne[e?"unshift":"push"](()=>{c=e,o(0,c)})}return[c,et]}class _t extends Te{constructor(r){super(),_e(this,r,Ct,bt,se,{},null,[-1,-1])}}function Tt(i){let r,o,c,t,d,s,n,u,f;return u=new _t({}),{c(){r=F("main"),o=F("h1"),o.textContent="BREAKAIT",c=pe(),t=F("div"),d=te("High Score: "),s=te(i[0]),n=pe(),xt(u.$$.fragment),H(o,"class","svelte-143d91w"),H(t,"class","high-score svelte-143d91w"),H(r,"class","svelte-143d91w")},m(x,g){me(x,r,g),M(r,o),M(r,c),M(r,t),M(t,d),M(t,s),M(r,n),Le(u,r,null),f=!0},p(x,[g]){(!f||g&1)&&lt(s,x[0])},i(x){f||(be(u.$$.fragment,x),f=!0)},o(x){pt(u.$$.fragment,x),f=!1},d(x){x&&le(r),Ce(u)}}}function ee(){}function Pt(i,r,o){let c;return ot(i,oe,t=>o(0,c=t)),we(()=>{document.addEventListener("click",ee),document.addEventListener("touchstart",ee),document.addEventListener("keydown",ee)}),[c]}class kt extends Te{constructor(r){super(),_e(this,r,Pt,Tt,se,{})}}new kt({target:document.getElementById("app")});
