var tt=Object.defineProperty;var nt=(i,r,o)=>r in i?tt(i,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[r]=o;var k=(i,r,o)=>nt(i,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(n){if(n.ep)return;n.ep=!0;const d=o(n);fetch(n.href,d)}})();function _(){}function ge(i){return i()}function he(){return Object.create(null)}function V(i){i.forEach(ge)}function ye(i){return typeof i=="function"}function se(i,r){return i!=i?r==r:i!==r||i&&typeof i=="object"||typeof i=="function"}function it(i){return Object.keys(i).length===0}function rt(i,...r){if(i==null){for(const c of r)c(void 0);return _}const o=i.subscribe(...r);return o.unsubscribe?()=>o.unsubscribe():o}function ot(i,r,o){i.$$.on_destroy.push(rt(r,o))}function M(i,r){i.appendChild(r)}function me(i,r,o){i.insertBefore(r,o||null)}function le(i){i.parentNode&&i.parentNode.removeChild(i)}function F(i){return document.createElement(i)}function te(i){return document.createTextNode(i)}function pe(){return te(" ")}function H(i,r,o){o==null?i.removeAttribute(r):i.getAttribute(r)!==o&&i.setAttribute(r,o)}function st(i){return Array.from(i.childNodes)}function lt(i,r){r=""+r,i.data!==r&&(i.data=r)}let W;function N(i){W=i}function ve(){if(!W)throw new Error("Function called outside component initialization");return W}function we(i){ve().$$.on_mount.push(i)}function at(i){ve().$$.on_destroy.push(i)}const B=[],ne=[];let U=[];const xe=[],ct=Promise.resolve();let ie=!1;function dt(){ie||(ie=!0,ct.then(Se))}function re(i){U.push(i)}const Y=new Set;let O=0;function Se(){if(O!==0)return;const i=W;do{try{for(;O<B.length;){const r=B[O];O++,N(r),ut(r.$$)}}catch(r){throw B.length=0,O=0,r}for(N(null),B.length=0,O=0;ne.length;)ne.pop()();for(let r=0;r<U.length;r+=1){const o=U[r];Y.has(o)||(Y.add(o),o())}U.length=0}while(B.length);for(;xe.length;)xe.pop()();ie=!1,Y.clear(),N(i)}function ut(i){if(i.fragment!==null){i.update(),V(i.before_update);const r=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,r),i.after_update.forEach(re)}}function ft(i){const r=[],o=[];U.forEach(c=>i.indexOf(c)===-1?r.push(c):o.push(c)),o.forEach(c=>c()),U=r}const j=new Set;let ht;function be(i,r){i&&i.i&&(j.delete(i),i.i(r))}function pt(i,r,o,c){if(i&&i.o){if(j.has(i))return;j.add(i),ht.c.push(()=>{j.delete(i)}),i.o(r)}}function xt(i){i&&i.c()}function Le(i,r,o){const{fragment:c,after_update:n}=i.$$;c&&c.m(r,o),re(()=>{const d=i.$$.on_mount.map(ge).filter(ye);i.$$.on_destroy?i.$$.on_destroy.push(...d):V(d),i.$$.on_mount=[]}),n.forEach(re)}function _e(i,r){const o=i.$$;o.fragment!==null&&(ft(o.after_update),V(o.on_destroy),o.fragment&&o.fragment.d(r),o.on_destroy=o.fragment=null,o.ctx=[])}function gt(i,r){i.$$.dirty[0]===-1&&(B.push(i),dt(),i.$$.dirty.fill(0)),i.$$.dirty[r/31|0]|=1<<r%31}function Te(i,r,o,c,n,d,s=null,t=[-1]){const u=W;N(i);const f=i.$$={fragment:null,ctx:[],props:d,update:_,not_equal:n,bound:he(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(u?u.$$.context:[])),callbacks:he(),dirty:t,skip_bound:!1,root:r.target||u.$$.root};s&&s(f.root);let x=!1;if(f.ctx=o?o(i,r.props||{},(g,w,...A)=>{const I=A.length?A[0]:w;return f.ctx&&n(f.ctx[g],f.ctx[g]=I)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](I),x&&gt(i,g)),w}):[],f.update(),x=!0,V(f.before_update),f.fragment=c?c(f.ctx):!1,r.target){if(r.hydrate){const g=st(r.target);f.fragment&&f.fragment.l(g),g.forEach(le)}else f.fragment&&f.fragment.c();r.intro&&be(i.$$.fragment),Le(i,r.target,r.anchor),Se()}N(u)}class Ce{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){_e(this,1),this.$destroy=_}$on(r,o){if(!ye(o))return _;const c=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return c.push(o),()=>{const n=c.indexOf(o);n!==-1&&c.splice(n,1)}}$set(r){this.$$set&&!it(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}const yt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yt);class mt{constructor(){k(this,"audioContext",null);k(this,"sounds",{});k(this,"initialized",!1);this.initAudio()}initAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&this.audioContext.resume(),this.createSounds(),this.initialized=!0}catch(r){console.warn("Audio not supported:",r)}}createSounds(){this.audioContext&&(this.sounds.paddleHit=this.createTone(200,.1,"sine"),this.sounds.brickHit=this.createTone(400,.15,"square"),this.sounds.brickDestroyed=this.createTone(600,.2,"sawtooth"),this.sounds.wallHit=this.createTone(300,.1,"triangle"),this.sounds.lifeLost=this.createTone(150,.3,"sawtooth"),this.sounds.powerUp=this.createTone(600,.2,"sine"),this.sounds.gameOver=this.createTone(100,.5,"sawtooth"),this.sounds.win=this.createTone(800,.3,"sine"))}createTone(r,o,c){return()=>{if(this.audioContext)try{this.audioContext.state==="suspended"&&this.audioContext.resume();const n=this.audioContext.createOscillator(),d=this.audioContext.createGain();n.connect(d),d.connect(this.audioContext.destination),n.frequency.setValueAtTime(r,this.audioContext.currentTime),n.type=c,d.gain.setValueAtTime(.3,this.audioContext.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+o),n.start(this.audioContext.currentTime),n.stop(this.audioContext.currentTime+o)}catch(n){console.warn("Audio not ready:",n)}}}initAudioOnInteraction(){this.initialized||this.initAudio()}play(r){this.sounds[r]&&this.sounds[r]()}playPaddleHit(){this.play("paddleHit")}playBrickHit(){this.play("brickHit")}playBrickDestroyed(){this.play("brickDestroyed")}playWallHit(){this.play("wallHit")}playLifeLost(){this.play("lifeLost")}playPowerUp(){this.play("powerUp")}playGameOver(){this.play("gameOver")}playWin(){this.play("win")}}const b=new mt;class vt{constructor(){k(this,"levels",[]);k(this,"currentLevelIndex",0)}async loadLevels(){const r=["level1.json","level2.json","level3.json"];for(const o of r)try{const c=await fetch(`./levels/${o}`);if(c.ok){const n=await c.json();this.levels.push(n)}}catch(c){console.warn(`Failed to load level file: ${o}`,c)}this.levels.sort((o,c)=>o.id-c.id)}getCurrentLevel(){return this.levels[this.currentLevelIndex]||null}getLevel(r){return this.levels.find(o=>o.id===r)||null}nextLevel(){return this.currentLevelIndex<this.levels.length-1?(this.currentLevelIndex++,this.getCurrentLevel()):null}previousLevel(){return this.currentLevelIndex>0?(this.currentLevelIndex--,this.getCurrentLevel()):null}setLevel(r){const o=this.levels.findIndex(c=>c.id===r);return o!==-1?(this.currentLevelIndex=o,!0):!1}resetToFirstLevel(){this.currentLevelIndex=0}isLastLevel(){return this.currentLevelIndex===this.levels.length-1}isFirstLevel(){return this.currentLevelIndex===0}getTotalLevels(){return this.levels.length}getCurrentLevelNumber(){return this.currentLevelIndex+1}getAllLevels(){return[...this.levels]}}const L=new vt,E=[];function wt(i,r=_){let o;const c=new Set;function n(t){if(se(i,t)&&(i=t,o)){const u=!E.length;for(const f of c)f[1](),E.push(f,i);if(u){for(let f=0;f<E.length;f+=2)E[f][0](E[f+1]);E.length=0}}}function d(t){n(t(i))}function s(t,u=_){const f=[t,u];return c.add(f),c.size===1&&(o=r(n,d)||_),t(i),()=>{c.delete(f),c.size===0&&o&&(o(),o=null)}}return{set:n,update:d,subscribe:s}}const J="breakait_high_score";function St(){const i=typeof window<"u"?parseInt(localStorage.getItem(J)||"0",10):0,{subscribe:r,set:o,update:c}=wt(i);return{subscribe:r,updateHighScore:n=>{c(d=>{const s=Math.max(d,n);return typeof window<"u"&&localStorage.setItem(J,s.toString()),s})},reset:()=>{o(0),typeof window<"u"&&localStorage.removeItem(J)}}}const oe=St();function bt(i){let r;return{c(){r=F("canvas"),H(r,"width",p),H(r,"height",v),H(r,"class","game-canvas svelte-15xstpr")},m(o,c){me(o,r,c),i[1](r)},p:_,i:_,o:_,d(o){o&&le(r),i[1](null)}}}const p=800,v=600,Q="I WIN!",Z="I LOSE",Lt=60;function _t(i,r,o){let c,n;const d={width:75,height:20,padding:10,offsetTop:30,offsetLeft:30,color:["#f00","#ff0","#0f0"]};let s={score:0,lives:5,level:1,gameOver:!1,gameStarted:!1,gamePaused:!1,initialStart:!0,gameWon:!1,stickyBall:!1,fireBall:!1},t={x:p/2-50,y:v-20,width:100,height:10,dx:0,acceleration:.5,maxSpeed:10},u=[],f=[],x=[],g=[],w=[],A=!1,I=!1,T="",z=!1,C=0,K,R=0,G=0;const X=1e3/Lt;we(async()=>{n=c.getContext("2d"),await L.loadLevels(),ae(),Pe(),R=performance.now(),fe()}),at(()=>{K&&cancelAnimationFrame(K)});function Pe(){document.addEventListener("keydown",$e),document.addEventListener("keyup",Ae),document.addEventListener("mousemove",Ie),document.addEventListener("click",Me),document.addEventListener("touchstart",Oe,{passive:!1}),document.addEventListener("touchmove",Ee,{passive:!1}),document.addEventListener("touchend",Be,{passive:!1}),document.addEventListener("click",()=>b.initAudioOnInteraction()),document.addEventListener("touchstart",()=>b.initAudioOnInteraction()),document.addEventListener("keydown",()=>b.initAudioOnInteraction())}function ae(){const e=L.getCurrentLevel();e&&(s.lives=e.lives,ke(),ce())}function ke(e){const l=L.getCurrentLevel();if(!l)return;u=[{x:t.x+t.width/2,y:t.y-10,radius:10,speed:l.ballSpeed,dx:l.ballSpeed,dy:-l.ballSpeed,color:"#fff"}]}function ce(){const e=L.getCurrentLevel();if(!e)return;f=[];const l=e.bricks.layout;for(let a=0;a<e.bricks.cols;a++){f[a]=[];for(let h=0;h<e.bricks.rows;h++){const y=a*(d.width+d.padding)+d.offsetLeft,S=h*(d.height+d.padding)+d.offsetTop,m=l[h]&&l[h][a]?l[h][a]:0;m>0&&(f[a][h]={x:y,y:S,status:1,hits:m})}}}function $e(e){e.key==="Right"||e.key==="ArrowRight"?A=!0:e.key==="Left"||e.key==="ArrowLeft"?I=!0:e.code==="Space"&&!s.gameStarted&&(s.gameStarted=!0,s.initialStart=!1),e.key.length===1&&(T+=e.key,T.length>Math.max(Q.length,Z.length)&&(T=T.slice(-Math.max(Q.length,Z.length))),T===Q?(s.gameWon=!0,s.gameOver=!0,T=""):T===Z&&(s.lives=0,s.gameOver=!0,s.gameWon=!1,T=""))}function Ae(e){e.key==="Right"||e.key==="ArrowRight"?A=!1:(e.key==="Left"||e.key==="ArrowLeft")&&(I=!1)}function Ie(e){const l=c.getBoundingClientRect(),a=e.clientX-l.left;if(a>=0&&a<=l.width){const h=p/l.width,y=a*h;t.x=y-t.width/2,t.x<0?t.x=0:t.x+t.width>p&&(t.x=p-t.width)}}function Me(){s.gameOver?ue():s.gameStarted||(s.gameStarted=!0,s.initialStart=!1)}function Oe(e){e.preventDefault(),z=!0;const l=c.getBoundingClientRect(),h=e.touches[0].clientX-l.left;if(h>=0&&h<=l.width){const y=p/l.width,S=h*y;t.x=S-t.width/2,t.x<0?t.x=0:t.x+t.width>p&&(t.x=p-t.width)}s.gameOver?ue():s.gameStarted||(s.gameStarted=!0,s.initialStart=!1)}function Ee(e){if(e.preventDefault(),z){const l=c.getBoundingClientRect(),h=e.touches[0].clientX-l.left;if(h>=0&&h<=l.width){const y=p/l.width,S=h*y;t.x=S-t.width/2,t.x<0?t.x=0:t.x+t.width>p&&(t.x=p-t.width)}}}function Be(e){e.preventDefault(),z=!1}function He(){if(s.gameOver||s.gamePaused)return;!s.gameStarted&&u[0]&&(u[0].x=t.x+t.width/2,u[0].y=t.y-u[0].radius);const e=G/X;A?(t.dx+=t.acceleration*e,t.dx>t.maxSpeed&&(t.dx=t.maxSpeed)):I?(t.dx-=t.acceleration*e,t.dx<-10&&(t.dx=-10)):t.dx*=Math.pow(.9,e),t.x+=t.dx*e,t.x<0?(t.x=0,t.dx=0):t.x+t.width>p&&(t.x=p-t.width,t.dx=0),s.gameStarted&&u[0]&&(u[0].x+=u[0].dx*e,u[0].y+=u[0].dy*e),Ue(),Ne(),Xe(),De()}function Ue(){if(!u[0])return;const e=u[0];for(let l=0;l<f.length;l++)for(let a=0;a<f[l].length;a++){const h=f[l][a];if(h&&h.status===1&&e.x+e.radius>h.x&&e.x-e.radius<h.x+d.width&&e.y+e.radius>h.y&&e.y-e.radius<h.y+d.height){if(e.dy=-e.dy,b.playBrickHit(),s.fireBall){h.status=0;const y=performance.now(),S=C>0?(y-C)/1e3:999;let m=1;if(C>0)if(S<=5){const D=(5-S)/5;m=1+9*Math.pow(D,.7)}else m=1;const P=Math.round(100*m);s.score+=P,C=y,m>1&&w.push({text:`FIRE COMBO x${Math.round(m)}! +${P}`,time:90})}else if(h.hits--,h.hits===0){h.status=0;const y=performance.now(),S=C>0?(y-C)/1e3:999;let m=1;if(C>0)if(S<=5){const q=(5-S)/5;m=1+9*Math.pow(q,.7)}else m=1;const P=Math.round(100*m);s.score+=P,C=y,m>1&&w.push({text:`COMBO x${Math.round(m)}! +${P}`,time:90}),b.playBrickDestroyed();for(let q=0;q<10;q++)g.push({x:h.x+d.width/2,y:h.y+d.height/2,radius:Math.random()*2+1,color:d.color[2],dx:(Math.random()-.5)*4,dy:(Math.random()-.5)*4,life:30});const D=L.getCurrentLevel();D&&Math.random()<D.powerUpChance&&Ge(h.x,h.y)}Re()&&(L.nextLevel()?(ce(),de(),s.level++):(s.gameWon=!0,s.gameOver=!0,b.playWin(),oe.updateHighScore(s.score)))}}if(e.x>t.x&&e.x<t.x+t.width&&e.y+e.radius>t.y){b.playPaddleHit();let l=e.x-(t.x+t.width/2);l=l/(t.width/2);let a=l*(Math.PI/3);const h=Math.sqrt(e.dx*e.dx+e.dy*e.dy);e.dx=h*Math.sin(a),e.dy=-h*Math.cos(a),s.stickyBall&&(s.gameStarted=!1,e.y=t.y-e.radius)}e.x+e.dx>p-e.radius?(e.x=p-e.radius,e.dx=-e.dx,b.playWallHit()):e.x+e.dx<e.radius&&(e.x=e.radius,e.dx=-e.dx,b.playWallHit()),e.y+e.dy<e.radius?(e.y=e.radius,e.dy=-e.dy,b.playWallHit()):e.y+e.dy>v-e.radius&&(s.lives--,b.playLifeLost(),s.lives<=0?(s.gameOver=!0,b.playGameOver(),oe.updateHighScore(s.score)):de())}function Re(){for(let e=0;e<f.length;e++)for(let l=0;l<f[e].length;l++){const a=f[e][l];if(a&&a.status===1)return!1}return!0}function Ge(e,l){const a=[{name:"fire",color:"#f5a623"},{name:"sticky",color:"#4a90e2"},{name:"extraBall",color:"#7ed321"},{name:"slowDown",color:"#d0021b"}],h=[{name:"speedUp",color:"#bd10e0"},{name:"clearGood",color:"#9013fe"}],y=Math.random()<.7?a[Math.floor(Math.random()*a.length)]:h[Math.floor(Math.random()*h.length)];x.push({x:e,y:l,type:y.name,color:y.color,dy:2})}function Ne(){const e=G/X;for(let l=x.length-1;l>=0;l--){const a=x[l];a.y+=a.dy*e,a.y>t.y&&a.x>t.x&&a.x<t.x+t.width&&(b.playPowerUp(),We(a.type),x.splice(l,1)),a.y>v&&x.splice(l,1)}}function We(e){switch(w.push({text:e.toUpperCase()+"!",time:120}),e){case"fire":s.fireBall=!0,setTimeout(()=>s.fireBall=!1,1e4);break;case"sticky":s.stickyBall=!0,setTimeout(()=>s.stickyBall=!1,1e4);break;case"extraBall":s.lives++;break;case"slowDown":u[0]&&(u[0].dx/=2,u[0].dy/=2,setTimeout(()=>{u[0]&&(u[0].dx*=2,u[0].dy*=2)},1e4));break;case"speedUp":u[0]&&(u[0].dx*=2,u[0].dy*=2,setTimeout(()=>{u[0]&&(u[0].dx/=2,u[0].dy/=2)},1e4));break;case"clearGood":s.fireBall=!1,s.stickyBall=!1;break}}function Xe(){const e=G/X;for(let l=g.length-1;l>=0;l--){const a=g[l];a.x+=a.dx*e,a.y+=a.dy*e,a.life-=e,a.life<=0&&g.splice(l,1)}}function De(){const e=G/X;for(let l=w.length-1;l>=0;l--)w[l].time-=e,w[l].time<=0&&w.splice(l,1)}function de(){if(s.gameStarted=!1,u[0]){u[0].x=p/2,u[0].y=v-30;const e=L.getCurrentLevel();e&&(u[0].dx=e.ballSpeed,u[0].dy=-e.ballSpeed)}t.x=(p-t.width)/2}function ue(){s={score:0,lives:5,level:1,gameOver:!1,gameStarted:!1,gamePaused:!1,initialStart:!0,gameWon:!1,stickyBall:!1,fireBall:!1},t.x=p/2-50,t.dx=0,L.resetToFirstLevel(),u=[],x=[],g=[],w=[],ae()}function qe(){n.clearRect(0,0,p,v),Ve(),Fe(),je(),ze(),Ke(),Ye(),Je(),s.gameOver?Qe():s.initialStart&&Ze()}function Fe(){n.beginPath();const e=t.height/2,l=n.createLinearGradient(t.x,t.y,t.x,t.y+t.height);l.addColorStop(0,"#888"),l.addColorStop(1,"#fff"),n.fillStyle=l,n.moveTo(t.x+e,t.y),n.lineTo(t.x+t.width-e,t.y),n.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+e),n.lineTo(t.x+t.width,t.y+t.height-e),n.quadraticCurveTo(t.x+t.width,t.y+t.height,t.x+t.width-e,t.y+t.height),n.lineTo(t.x+e,t.y+t.height),n.quadraticCurveTo(t.x,t.y+t.height,t.x,t.y+t.height-e),n.lineTo(t.x,t.y+e),n.quadraticCurveTo(t.x,t.y,t.x+e,t.y),n.fill(),n.closePath(),n.beginPath(),n.fillStyle="rgba(255, 255, 255, 0.3)",n.moveTo(t.x+e,t.y),n.lineTo(t.x+t.width-e,t.y),n.quadraticCurveTo(t.x+t.width,t.y,t.x+t.width,t.y+e),n.lineTo(t.x+t.width,t.y+t.height/2),n.lineTo(t.x,t.y+t.height/2),n.lineTo(t.x,t.y+e),n.quadraticCurveTo(t.x,t.y,t.x+e,t.y),n.fill(),n.closePath()}function je(){for(const e of u){n.beginPath();const l=n.createRadialGradient(e.x-e.radius*.3,e.y-e.radius*.3,0,e.x,e.y,e.radius),a=s.fireBall?"#f5a623":e.color;l.addColorStop(0,"#fff"),l.addColorStop(.4,a),l.addColorStop(.8,"#666"),l.addColorStop(1,"#333"),n.fillStyle=l,n.arc(e.x,e.y,e.radius,0,Math.PI*2),n.fill(),n.closePath(),n.beginPath();const h=n.createRadialGradient(e.x-e.radius*.4,e.y-e.radius*.4,0,e.x-e.radius*.4,e.y-e.radius*.4,e.radius*.6);h.addColorStop(0,"rgba(255, 255, 255, 0.8)"),h.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=h,n.arc(e.x,e.y,e.radius*.6,0,Math.PI*2),n.fill(),n.closePath()}}function Ve(){for(let e=0;e<f.length;e++)for(let l=0;l<f[e].length;l++){const a=f[e][l];if(a&&a.status===1){n.beginPath();const h=a.x-d.width*.2,y=a.y-d.height*.2,S=a.x+d.width*1.2,m=a.y+d.height*1.2,$=n.createLinearGradient(h,y,S,m),P=d.color[a.hits-1];$.addColorStop(0,"#000"),$.addColorStop(.3,P),$.addColorStop(.7,"#fff"),$.addColorStop(1,P),n.fillStyle=$,n.rect(a.x,a.y,d.width,d.height),n.fill(),n.closePath(),n.beginPath(),n.strokeStyle="rgba(255, 255, 255, 0.3)",n.lineWidth=1,n.moveTo(a.x,a.y),n.lineTo(a.x+d.width*.3,a.y),n.stroke(),n.closePath()}}}function ze(){for(const e of x)n.beginPath(),n.rect(e.x,e.y,10,10),n.fillStyle=e.color,n.fill(),n.closePath()}function Ke(){for(const e of g)n.beginPath(),n.arc(e.x,e.y,e.radius,0,Math.PI*2),n.fillStyle=e.color,n.fill(),n.closePath()}function Ye(){n.font='16px "Press Start 2P", monospace',n.fillStyle="#fff",n.textAlign="left",n.fillText("Score: "+s.score,8,20),n.fillText("Level: "+L.getCurrentLevelNumber(),8,40),n.textAlign="right",n.fillText("Lives: "+s.lives,p-8,20);const e=L.getCurrentLevel();e&&n.fillText(e.name,p-8,40)}function Je(){n.font='16px "Press Start 2P", monospace',n.fillStyle="#fff",n.textAlign="center";for(let e=0;e<w.length;e++)n.fillText(w[e].text,p/2,60+e*20)}function Qe(){n.font='48px "Press Start 2P", monospace',n.fillStyle="#fff",n.textAlign="center",s.gameWon?(n.fillText("YOU WIN!",p/2,v/2),n.font='24px "Press Start 2P", monospace',n.fillText("Score: "+s.score,p/2,v/2+50),n.font='16px "Press Start 2P", monospace',n.fillText("Click to Restart",p/2,v/2+80)):(n.fillText("GAME OVER",p/2,v/2),n.font='24px "Press Start 2P", monospace',n.fillText("Score: "+s.score,p/2,v/2+50),n.font='16px "Press Start 2P", monospace',n.fillText("Click to Restart",p/2,v/2+80))}function Ze(){n.font='24px "Press Start 2P", monospace',n.fillStyle="#fff",n.textAlign="center",n.fillText("Click or Space to Start",p/2,v/2);const e=L.getCurrentLevel();e&&(n.font='16px "Press Start 2P", monospace',n.fillText(`Level ${e.id}: ${e.name}`,p/2,v/2+30))}function fe(e=performance.now()){R===0&&(R=e),G=e-R,R=e,He(),qe(),K=requestAnimationFrame(fe)}function et(e){ne[e?"unshift":"push"](()=>{c=e,o(0,c)})}return[c,et]}class Tt extends Ce{constructor(r){super(),Te(this,r,_t,bt,se,{},null,[-1,-1])}}function Ct(i){let r,o,c,n,d,s,t,u,f;return u=new Tt({}),{c(){r=F("main"),o=F("h1"),o.textContent="BREAKAIT",c=pe(),n=F("div"),d=te("High Score: "),s=te(i[0]),t=pe(),xt(u.$$.fragment),H(o,"class","svelte-143d91w"),H(n,"class","high-score svelte-143d91w"),H(r,"class","svelte-143d91w")},m(x,g){me(x,r,g),M(r,o),M(r,c),M(r,n),M(n,d),M(n,s),M(r,t),Le(u,r,null),f=!0},p(x,[g]){(!f||g&1)&&lt(s,x[0])},i(x){f||(be(u.$$.fragment,x),f=!0)},o(x){pt(u.$$.fragment,x),f=!1},d(x){x&&le(r),_e(u)}}}function ee(){}function Pt(i,r,o){let c;return ot(i,oe,n=>o(0,c=n)),we(()=>{document.addEventListener("click",ee),document.addEventListener("touchstart",ee),document.addEventListener("keydown",ee)}),[c]}class kt extends Ce{constructor(r){super(),Te(this,r,Pt,Ct,se,{})}}new kt({target:document.getElementById("app")});
